<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-07-04 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150704" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Javanarior Open Source POM &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Javanarior Open Source POM</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                                  <li class="">
                    <a href="./" title="Javanarior OSS POM">
        Javanarior OSS POM</a>
                    <span class="divider">|</span>
      </li>
        <li class="active ">Usage</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2015-07-04</li>
              <li id="projectVersion" class="pull-right">
                    Version: 47
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Javanarior OSS POM</li>
                              
      <li>
  
                          <a href="index.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                                                                                                                                                                            
      <li class="active">
  
            <a href="#"><i class="icon-chevron-down"></i>Usage</a>
                  <ul class="nav nav-list">
                    
      <li>
  
                          <a href="usage.html#Default_Configuration" title="Default Configuration">
          <i class="none"></i>
        Default Configuration</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Enforcer_Plugin" title="Enforcer Plugin">
          <i class="none"></i>
        Enforcer Plugin</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Changes_Plugin" title="Changes Plugin">
          <i class="none"></i>
        Changes Plugin</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Code_Examples" title="Code examples">
          <i class="none"></i>
        Code examples</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Release_Configuration" title="Release Configuration">
          <i class="none"></i>
        Release Configuration</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Project_Page" title="Project Page">
          <i class="none"></i>
        Project Page</a>
            </li>
                    
      <li>
  
                          <a href="usage.html#Managed_Plugins" title="Managed Plugins">
          <i class="none"></i>
        Managed Plugins</a>
            </li>
              </ul>
        </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                          
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                  
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="javanarior.github.io/javanarior-oss-pom" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2><a name="Usage"></a>Usage</h2>
<ul>
<li><a href="#Default_configuration">Default configuration</a>
<ul>
<li><a href="#Java_Version">Java Version</a></li>
<li><a href="#maven-compiler-plugin">maven-compiler-plugin</a></li>
<li><a href="#maven-release-plugin">maven-release-plugin</a></li>
<li><a href="#maven-site-plugin">maven-site-plugin</a></li></ul></li>
<li><a href="#Enforcer_Plugin">Enforcer Plugin</a></li>
<li><a href="#Changes_Plugin">Changes Plugin</a></li>
<li><a href="#Code_Examples">Code Examples</a></li>
<li><a href="#Release_Configuration">Release Configuration</a>
<ul>
<li><a href="#maven-source-plugin">maven-source-plugin</a></li>
<li><a href="#maven-javadoc-plugin">maven-javadoc-plugin</a></li>
<li><a href="#maven-gpg-plugin">maven-gpg-plugin</a></li>
<li><a href="#buildnumber-maven-plugin">buildnumber-maven-plugin</a></li>
<li><a href="#maven-install-plugin">maven-install-plugin</a></li>
<li><a href="#maven-deploy-plugin">maven-deploy-plugin</a></li>
<li><a href="#maven-jar-plugin">maven-jar-plugin</a></li></ul></li>
<li><a href="#Project_Page">Project Page</a>
<ul>
<li><a href="#GitHub_Pages">GitHub Pages</a></li></ul></li>
<li><a href="#Managed_Plugins">Managed Plugins</a></li></ul>
<div class="section">
<h3><a name="Default_configuration"></a>Default configuration</h3>
<p>This configuration is applied in general, which means they are profile independent.</p>
<div class="section">
<h4><a name="Java_Version"></a>Java Version</h4>
<p>To specify which JDK Version should be used, the property <tt>java.version</tt> could be set. To specify Java version 1.6 you will write in your POM</p>
<div class="source">
<pre>...
&lt;properties&gt;
        &lt;java.version&gt;1.6&lt;/java.version&gt;
&lt;/properties&gt;
...</pre></div>
<p>This will set the properties</p>
<ul>
<li>maven.compiler.compilerVersion</li>
<li>maven.compiler.source</li>
<li>maven.compiler.target</li>
<li>maven.compiler.testSource</li>
<li>maven.compiler.testTarget</li></ul></div>
<div class="section">
<h4><a name="maven-compiler-plugin"></a>maven-compiler-plugin</h4>
<p>The following settings are applied to the <tt>maven-compiler-plugin</tt></p>
<div class="source">
<pre>    &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;
    &lt;showWarnings&gt;true&lt;/showWarnings&gt;
    &lt;debug&gt;true&lt;/debug&gt;
    &lt;debuglevel&gt;lines,vars,source&lt;/debuglevel&gt;
    &lt;optimize&gt;true&lt;/optimize&gt;</pre></div></div>
<div class="section">
<h4><a name="maven-release-plugin"></a>maven-release-plugin</h4>
<p>The following settings are applied to the <tt>maven-release-plugin</tt></p>
<div class="source">
<pre>    &lt;useReleaseProfile&gt;true&lt;/useReleaseProfile&gt;
    &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;
    &lt;tagNameFormat&gt;releases/@{project.artifactId}-@{project.version}&lt;/tagNameFormat&gt;
    &lt;pushChanges&gt;true&lt;/pushChanges&gt;
    &lt;releaseProfiles&gt;javanarior-release&lt;/releaseProfiles&gt;
    &lt;localCheckout&gt;false&lt;/localCheckout&gt;</pre></div></div>
<div class="section">
<h4><a name="maven-site-plugin"></a>maven-site-plugin</h4>
<p>The following additional dependency is configured for the <tt>maven-site-plugin</tt></p>
<div class="source">
<pre>    &lt;plugin&gt;
        &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;
        &lt;dependencies&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.apache.maven.doxia&lt;/groupId&gt;
                &lt;artifactId&gt;doxia-module-confluence&lt;/artifactId&gt;
                &lt;version&gt;1.6&lt;/version&gt;
            &lt;/dependency&gt;
            &lt;dependency&gt;
                &lt;groupId&gt;org.tinyjee.dim&lt;/groupId&gt;
                &lt;artifactId&gt;doxia-include-macro&lt;/artifactId&gt;
                &lt;version&gt;${doxia-include-macro.version}&lt;/version&gt;
            &lt;/dependency&gt;
        &lt;/dependencies&gt;
    &lt;/plugin&gt;

    &lt;plugin&gt;
        &lt;groupId&gt;org.tinyjee.dim&lt;/groupId&gt;
        &lt;artifactId&gt;doxia-include-macro&lt;/artifactId&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;id&gt;initialize-doxia-include-macro&lt;/id&gt;
                &lt;phase&gt;pre-site&lt;/phase&gt;
                &lt;goals&gt;
                    &lt;goal&gt;initialize&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
    &lt;/plugin&gt;</pre></div>
<p>Instead of the full set of reports</p>
<div class="source">
<pre>    &lt;reportSets&gt;
        &lt;reportSet&gt;
            &lt;reports&gt;
                &lt;!-- Continuous Integration --&gt;
                &lt;report&gt;cim&lt;/report&gt;
                &lt;report&gt;dependencies&lt;/report&gt;
                &lt;report&gt;dependency-convergence&lt;/report&gt;
                &lt;report&gt;dependency-info&lt;/report&gt;
                &lt;report&gt;dependency-management&lt;/report&gt;
                &lt;report&gt;distribution-management&lt;/report&gt;
                &lt;report&gt;help&lt;/report&gt;
                &lt;report&gt;index&lt;/report&gt;
                &lt;report&gt;issue-tracking&lt;/report&gt;
                &lt;report&gt;license&lt;/report&gt;
                &lt;report&gt;mailing-list&lt;/report&gt;
                &lt;report&gt;modules&lt;/report&gt;
                &lt;report&gt;plugin-management&lt;/report&gt;
                &lt;report&gt;plugins&lt;/report&gt;
                &lt;report&gt;project-team&lt;/report&gt;
                &lt;report&gt;scm&lt;/report&gt;
                &lt;report&gt;summary&lt;/report&gt;
            &lt;/reports&gt;
        &lt;/reportSet&gt;
    &lt;/reportSets&gt;</pre></div>
<p>for the POM, the set of reports is stripped down to</p>
<div class="source">
<pre>    &lt;reportSets&gt;
        &lt;reportSet&gt;
            &lt;reports&gt;
                &lt;report&gt;issue-tracking&lt;/report&gt;
                &lt;report&gt;license&lt;/report&gt;
                &lt;report&gt;plugin-management&lt;/report&gt;
                &lt;report&gt;plugins&lt;/report&gt;
                &lt;report&gt;scm&lt;/report&gt;
                &lt;report&gt;summary&lt;/report&gt;
            &lt;/reports&gt;
        &lt;/reportSet&gt;
    &lt;/reportSets&gt;</pre></div>
<div class="section">
<h5><a name="taglist-maven-plugin"></a>taglist-maven-plugin</h5>
<p>Additional the <tt>taglist-maven-plugin</tt> is configured to generate a <tt>TODO</tt> report for the case ignored keywords</p>
<ul>
<li>FIXME</li>
<li>XXX</li>
<li>TODO</li>
<li>NICE</li></ul></div></div></div>
<div class="section">
<h3><a name="Enforcer_Plugin"></a>Enforcer Plugin</h3>
<p>The configuration for the <tt>maven-enforcer-plugin</tt> is placed in the profile <tt>validation</tt>. The profile is intended to be run on continuous integration builds and can be activated by setting the property <tt>build</tt> to <tt>qa</tt> with</p>
<div>
<pre>mvn clean install -Dbuild=qa</pre></div>
<p>When the profile is activated the maven-enforcer-plugin goal <tt>enforce</tt> is tied to the phase <tt>validate</tt>. Also the following rules are configured</p>
<ul>
<li>The Plugin Version is required
<ul>
<li>Snapshots, LATEST and RELEASE are not allowed as Versions</li>
<li>maven-reactor-plugin also requires a Version</li></ul></li>
<li>The Plugins <tt>maven-surefire-plugin</tt>, <tt>maven-failsafe-plugin</tt> and <tt>maven-surefire-report-plugin</tt> need to have the same version, can be set with property <tt>maven.surefire.failsafe.plugin.version</tt></li>
<li>Dependency Versions has to converge</li>
<li>For dependencies, no SNAPSHOT Version is allowed</li>
<li>JDK with Version specified by <tt>java.version</tt> is required.</li></ul></div>
<div class="section">
<h3><a name="Changes_Plugin"></a>Changes Plugin</h3>
<p>A Changelog can be maintained with <tt>maven-changes-plugin</tt>. When the file <tt>src/changes/changes.xml</tt> exists the profile <tt>changes-report</tt> is activated. This profile adds the <tt>changes-report</tt> to the report section.</p></div>
<div class="section">
<h3><a name="Code_Examples"></a>Code Examples</h3>
<p>Code examples are important to illustrate the usage of a library. To minimize the effort of maintenance for this examples, e.g. in case of refactorings, the examples are written in source files and included in the documentation. This way the examples are up to date with the API. On the other hand, code quality checks should usually not be executed on these examples. For this the profile <tt>code-examples</tt> was developed. The Profile <tt>code-examples</tt> will be activated when the directory <tt>src/example</tt> exists. The Profile adds the directory</p>
<div>
<pre>  src/example/java</pre></div>
<p>to the build path. Also the following plugins are configured to exclude the directory <tt>src/example/java</tt> or to exclude sources below the package <tt>example</tt> with the Ant pattern <tt>**/example/**</tt>.</p>
<ul>
<li>jacoco-maven-plugin</li>
<li>maven-jar-plugin</li>
<li>maven-checkstyle-plugin</li>
<li>maven-pmd-plugin</li>
<li>maven-findbugs-plugin (missing)</li></ul></div>
<div class="section">
<h3><a name="Release_Configuration"></a>Release Configuration</h3>
<p>The Release Profile is named <tt>javanarior-release</tt> and is activated during release build.</p>
<div class="section">
<h4><a name="maven-source-plugin"></a>maven-source-plugin</h4>
<p>The goal <tt>jar</tt> of the maven-source-plugin is bound to the phase <tt>package</tt>.</p></div>
<div class="section">
<h4><a name="maven-javadoc-plugin"></a>maven-javadoc-plugin</h4>
<p>The goal <tt>jar</tt> of the maven-javadoc-plugin is also bound to the <tt>package</tt> phase.</p></div>
<div class="section">
<h4><a name="maven-gpg-plugin"></a>maven-gpg-plugin</h4>
<p>The maven-gpg-plugin is bound to the phase <tt>verify</tt> with the goal <tt>sign</tt>. The plugin expects a working GPG setup. To automate the signing, avoid entering a passphrase, you can provide the passphrase in the <tt>~/.m2/settings.xml</tt></p>
<div class="source">
<pre>    ...
    &lt;profile&gt;
        &lt;id&gt;gpg&lt;/id&gt;
        &lt;properties&gt;
            &lt;gpg.executable&gt;gpg2&lt;/gpg.executable&gt;
            &lt;gpg.passphrase&gt;YOUR_PASSPHRASE&lt;/gpg.passphrase&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
    ...
    &lt;activeProfiles&gt;
        &lt;activeProfile&gt;gpg&lt;/activeProfile&gt;
    &lt;/activeProfiles&gt;
    ...</pre></div></div>
<div class="section">
<h4><a name="buildnumber-maven-plugin"></a>buildnumber-maven-plugin</h4>
<p>The buildnumber-maven-plugin is used to generate a Timestamp in the format</p>
<div>
<pre>    ...
    &lt;maven.build.timestamp.format&gt;yyyy-MM-dd HH:mm&lt;/maven.build.timestamp.format&gt;
    ...</pre></div>
<p>This and other information are written in the MANIFEST.MF file with the maven-jar-plugin.</p></div>
<div class="section">
<h4><a name="maven-install-plugin"></a>maven-install-plugin</h4>
<p>The maven-install-plugin is configured to install at the end, create checksum and update release info with</p>
<div>
<pre>    &lt;plugin&gt;
        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
            &lt;createChecksum&gt;true&lt;/createChecksum&gt;
            &lt;installAtEnd&gt;true&lt;/installAtEnd&gt;
            &lt;updateReleaseInfo&gt;true&lt;/updateReleaseInfo&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;</pre></div></div>
<div class="section">
<h4><a name="maven-deploy-plugin"></a>maven-deploy-plugin</h4>
<p>The configuration for the maven-deploy-plugin is similar to the one of the maven-install-plugin, except for the release info.</p>
<div>
<pre>    &lt;plugin&gt;
        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
        &lt;configuration&gt;
            &lt;deployAtEnd&gt;true&lt;/deployAtEnd&gt;
            &lt;updateReleaseInfo&gt;true&lt;/updateReleaseInfo&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;</pre></div></div>
<div class="section">
<h4><a name="maven-jar-plugin"></a>maven-jar-plugin</h4>
<p>Additional to the default Specification and Implementation Entries the following information are written</p>
<table border="1" class="table table-striped">
<tr class="a">
<th align="left">Field name</th>
<th align="left">Property</th></tr>
<tr class="b">
<td align="left">Release-ArtifactId</td>
<td align="left">project.artifactId</td></tr>
<tr class="a">
<td align="left">Release-Version</td>
<td align="left">project.version</td></tr>
<tr class="b">
<td align="left">Release-Timestamp</td>
<td align="left">maven.build.timestamp</td></tr>
<tr class="a">
<td align="left">Release-Revision</td>
<td align="left">buildNumber</td></tr>
<tr class="b">
<td align="left">Release-Branch</td>
<td align="left">scmBranch</td></tr>
<tr class="a">
<td align="left">Release-Repository</td>
<td align="left">project.scm.developerConnection</td></tr></table></div></div>
<div class="section">
<h3><a name="Project_Page"></a>Project Page</h3>
<p>If you maintain a project page and create a site.xml the profile <tt>gh-pages</tt> will be activated. This Profile adds the <tt>doxia-module-confluence</tt> and <tt>doxia-include-macro</tt> to the site plugin. The doxia-include-macro is also configured to run with the goal <tt>initialize</tt> at the <tt>pre-site</tt> phase. Additional the maven-scm-publish-plugin is configured to use the gh-pages branch. The <tt>site</tt> section in <tt>distributionManagement</tt> is also set to</p>
<ul>
<li>&lt;id&gt;${github.username}/${project.artifactId}&lt;/id&gt;</li>
<li>&lt;url&gt;scm:git:git@github.com:${github.username}/${project.artifactId}.git&lt;/url&gt;</li></ul>
<p>To generate a project site at release build you have to change the goals which the <tt>maven-release-plugin</tt> will execute when you call <tt>release:perform</tt>. You can do this by changing the value of the <tt>goals</tt> property when calling <tt>release:perform</tt></p>
<div>
<pre>$ mvn release:perform -Dgoals=deploy site site:stage scm-publish:publish-scm</pre></div>
<div class="section">
<h4><a name="GitHub_Pages"></a>GitHub Pages</h4>
<p>To publish your project site into gh-pages branch the <tt>scm-publish-plugin</tt> can be used. It works more reliable as the maven plugin from GitHub. At first create a orphan gh-pages branch with</p>
<div>
<pre>$ git checkout --orphan gh-pages
$ git rm -rf .
$ rm .gitignore
$ echo &quot;My Page&quot; &gt; index.html
$ git add index.html
$ git commit -a -m &quot;First pages commit&quot;
$ git push origin gh-pages</pre></div>
<p>For further information take a look in the Help from GitHub, at <a class="externalLink" href="https://help.github.com/articles/creating-project-pages-manually/"> creating-project-pages-manually</a>. After your gh-pages branch is pushed, you can call the <tt>scm-publish-plugin</tt> with</p>
<div>
<pre>$ mvn test site site:stage scm-publish:publish-scm</pre></div></div></div>
<div class="section">
<h3><a name="Managed_Plugins"></a>Managed Plugins</h3>
<p>The list of managed plugins could be found in the report section at <a href="./plugin-management.html">plugin-management</a>.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                        <p class="pull-right">Copyright &copy;                   2014&#x2013;2015.
          All rights reserved.      
                    
      </p>
        </div>

        
        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="http://www.ohloh.net/p/javanarior-oss-pom/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>